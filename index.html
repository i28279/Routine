<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Study Routine Planner</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #e0e0e0;
      padding: 20px;
    }
    h1 { text-align:center; margin-bottom:20px; }
    table { width:100%; border-collapse:collapse; margin-top:20px; }
    th, td { border:1px solid #ccc; padding:8px; text-align:center; }
    th { background:#333; color:#fff; }
    button {
      padding:5px 10px;
      border:none;
      border-radius:12px;
      background:#e0e0e0;
      box-shadow: 4px 4px 8px #bebebe, -4px -4px 8px #ffffff;
      cursor:pointer;
      transition: all 0.2s;
    }
    button:active {
      box-shadow: inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff;
    }
    #progress, #countdown, #dailyTarget {
      margin-top:15px; 
      font-weight:bold;
      text-align:center;
      padding:10px;
      border-radius:12px;
      background:#e0e0e0;
      box-shadow: 8px 8px 16px #bebebe, -8px -8px 16px #ffffff;
    }
    input[type="date"] {
      padding:5px;
      border-radius:12px;
      border:none;
      box-shadow: inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff;
    }
  </style>
</head>
<body>
  <h1>üìö Study Routine Planner</h1>

  <label>üìÖ Select End Date: </label>
  <input type="date" id="endDate" onchange="saveEndDate()">

  <div id="progress">Completed: 0 / 44 chapters</div>
  <div id="dailyTarget">Daily Target: -- chapters/day</div>
  <div id="countdown">Countdown: -- days left</div>

  <table>
    <thead>
      <tr>
        <th>Day</th>
        <th>Chapter Name</th>
        <th>Done</th>
      </tr>
    </thead>
    <tbody id="routineTable"></tbody>
  </table>

  <script>
    const easy = [
      "‡¶≠‡ßå‡¶§ ‡¶ú‡¶ó‡ßé","‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶∏","‡¶∏‡¶∞‡¶≤ ‡¶¶‡ßã‡¶≤‡¶® ‡¶ó‡¶§‡¶ø","‡¶Ö‡¶≠‡¶ø‡¶ï‡¶∞‡ßç‡¶∑","‡¶¨‡¶≤ ‡¶ì ‡¶ò‡¶∞‡ßç‡¶∑‡¶£","‡¶∂‡¶ø‡¶∂‡¶ø‡¶∞‡¶æ‡¶ô‡ßç‡¶ï/‡¶Ü‡¶¶‡ßç‡¶∞‡¶§‡¶æ",
      "‡¶π‡¶æ‡¶â‡¶ú ‡¶ì‡ßü‡¶æ‡¶∞‡¶ø‡¶Ç","‡¶¨‡ßà‡¶¶‡ßç‡¶Ø‡ßÅ‡¶§‡¶ø‡¶ï ‡¶®‡¶ø‡ßü‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶ï","‡¶¨‡ßà‡¶¶‡ßç‡¶Ø‡ßÅ‡¶§‡¶ø‡¶ï ‡¶§‡¶æ‡¶∞ ‡¶ì ‡¶ï‡ßç‡¶Ø‡¶æ‡¶¨‡¶≤","‡¶¨‡ßà‡¶¶‡ßç‡¶Ø‡ßÅ‡¶§‡¶ø‡¶ï ‡¶∞‡¶ï‡ßç‡¶∑‡¶£",
      "‡¶¨‡ßà‡¶¶‡ßç‡¶Ø‡ßÅ‡¶§‡¶ø‡¶ï ‡¶Ü‡¶∞‡ßç‡¶•‡¶ø‡¶Ç","‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶¨‡ßà‡¶¶‡ßç‡¶Ø‡ßÅ‡¶§‡¶ø‡¶ï ‡¶¨‡¶æ‡¶§‡¶ø","‡¶á‡¶≤‡ßá‡¶ü‡ßç‡¶∞‡ßã‡¶Æ‡ßá‡¶ó‡¶®‡ßá‡¶ü‡¶ø‡¶ú‡¶Æ","‡¶á‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ó‡¶®‡ßá‡¶ü‡¶ø‡¶ï ‡¶á‡¶®‡¶°‡¶æ‡¶ï‡¶∂‡¶®",
      "‡¶®‡¶ø‡¶∞‡ßç‡¶£‡¶æ‡ßü‡¶ï","‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßç‡¶∞‡¶ø‡¶ï‡ßç‡¶∏","‡¶ú‡¶ü‡¶ø‡¶≤ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ","‡¶∏‡¶∞‡¶≤‡¶∞‡ßá‡¶ñ‡¶æ","‡¶¨‡ßÉ‡¶§‡ßç‡¶§","‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡¶´‡¶≤"
    ];
    const hard = [
      "‡¶≠‡ßá‡¶ï‡ßç‡¶ü‡¶∞","‡¶ó‡¶§‡¶ø ‡¶ì ‡¶ó‡¶§‡¶ø‡¶∞ ‡¶∏‡¶Æ‡ßÄ‡¶ï‡¶∞‡¶£","‡¶ï‡¶æ‡¶ú ‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ ‡¶ì ‡¶∂‡¶ï‡ßç‡¶§‡¶ø","‡¶¨‡ßÉ‡¶§‡ßç‡¶§‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ó‡¶§‡¶ø","‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶ï‡¶§‡¶æ","‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶ü‡¶æ‡¶® ‡¶ì ‡¶∏‡¶æ‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶§‡¶æ",
      "‡¶§‡¶∞‡¶ô‡ßç‡¶ó","‡¶∂‡¶¨‡ßç‡¶¶ ‡¶ì ‡¶∂‡¶¨‡ßç‡¶¶‡ßá‡¶∞ ‡¶¨‡ßá‡¶ó","‡¶ö‡¶æ‡¶™ ‡¶ì ‡¶ö‡¶æ‡¶™‡ßá‡¶∞ ‡¶¨‡ßà‡¶∂‡¶ø‡¶∑‡ßç‡¶ü‡ßç‡¶Ø","‡¶¨‡ßà‡¶¶‡ßç‡¶Ø‡ßÅ‡¶§‡¶ø‡¶ï ‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ","‡¶¨‡ßà‡¶¶‡ßç‡¶Ø‡ßÅ‡¶§‡¶ø ‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßÄ","‡¶ì‡¶π‡¶Æ‡ßá‡¶∞ ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞",
      "‡¶ï‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∏‡¶ø‡¶ü‡¶∞","‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶π‡ßÄ","‡¶á‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶∏‡¶ø‡¶ü‡¶ø ‡¶è‡¶∞ ‡¶™‡ßç‡¶∞‡¶ï‡ßÉ‡¶§‡¶ø","‡¶¨‡¶π‡ßÅ‡¶™‡¶¶‡ßÄ","‡¶¨‡¶ø‡¶®‡ßç‡¶Ø‡¶æ‡¶∏","‡¶∏‡¶Æ‡¶æ‡¶¨‡ßá‡¶∂","‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡ßã‡¶£","‡¶§‡ßç‡¶∞‡¶ø‡¶ï‡ßã‡¶£‡¶Æ‡¶ø‡¶§‡¶ø",
      "‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞ ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞","‡¶ó‡ßÅ‡¶£‡¶ø‡¶§‡¶ï ‡¶ï‡¶æ‡¶£","‡¶¨‡¶ø‡¶™‡¶∞‡ßÄ‡¶§ ‡¶¨‡ßÉ‡¶§‡ßç‡¶§‡ßÄ‡ßü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®","‡¶§‡ßç‡¶∞‡¶ø‡¶≠‡ßÅ‡¶ú‡ßá‡¶∞ ‡¶§‡ßç‡¶∞‡¶ø‡¶ï‡ßã‡¶£‡¶Æ‡¶ø‡¶§‡¶ø"
    ];

    const chapters = [...easy, ...hard];
    const totalChapters = chapters.length;

    let completedChapters = JSON.parse(localStorage.getItem("completedChapters")) || [];

    const tbody = document.getElementById("routineTable");

    // ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü
    chapters.forEach((ch, i) => {
      const tr = document.createElement("tr");
      const doneBtn = completedChapters.includes(i) 
                      ? `<button disabled>‚úî</button>` 
                      : `<button onclick="markDone(${i}, this)">Done</button>`;
      tr.innerHTML = `
        <td>Day ${i+1}</td>
        <td>${ch}</td>
        <td>${doneBtn}</td>
      `;
      tbody.appendChild(tr);
    });

    updateProgressDisplay();

    function markDone(index, btn){
      btn.disabled = true;
      btn.innerText = "‚úî";
      if(!completedChapters.includes(index)){
        completedChapters.push(index);
        localStorage.setItem("completedChapters", JSON.stringify(completedChapters));
      }
      updateProgressDisplay();
    }

    function updateProgressDisplay(){
      document.getElementById("progress").innerText = `Completed: ${completedChapters.length} / ${totalChapters} chapters`;
      updateDailyTarget();
    }

    function updateDailyTarget(){
      const endDateValue = document.getElementById("endDate").value;
      if(!endDateValue) return;
      const endDate = new Date(endDateValue + "T23:59:59");
      const now = new Date();
      const diffTime = endDate - now;
      const diffDays = Math.ceil(diffTime / (1000*60*60*24));
      const dailyTarget = diffDays > 0 ? (totalChapters - completedChapters.length) / diffDays : 0;
      document.getElementById("dailyTarget").innerText = `Daily Target: ${dailyTarget.toFixed(2)} chapters/day`;
    }

    let countdownInterval;
    function startCountdown(){
      clearInterval(countdownInterval);
      const endDateValue = document.getElementById("endDate").value;
      if(!endDateValue) return;

      const endDate = new Date(endDateValue + "T23:59:59");

      countdownInterval = setInterval(() => {
        const now = new Date();
        const diff = endDate - now;

        if(diff <= 0){
          clearInterval(countdownInterval);
          document.getElementById("countdown").innerText = `Countdown: 0d 0h 0m 0s`;
          return;
        }

        const days = Math.floor(diff / (1000*60*60*24));
        const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
        const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
        const seconds = Math.floor((diff % (1000*60)) / 1000);

        document.getElementById("countdown").innerText =
          `Countdown: ${days}d ${hours}h ${minutes}m ${seconds}s`;

        updateDailyTarget();
      }, 1000);
    }

    function saveEndDate(){
      const value = document.getElementById("endDate").value;
      localStorage.setItem("endDate", value);
      startCountdown();
    }

    // page load ‡¶è saved end date ‡¶•‡¶æ‡¶ï‡¶≤‡ßá auto set ‡¶è‡¶¨‡¶Ç countdown start
    window.addEventListener("load", () => {
      const savedEndDate = localStorage.getItem("endDate");
      if(savedEndDate){
        document.getElementById("endDate").value = savedEndDate;
        startCountdown();
      }
    });
  </script>

  <div>

    <!-- Custom Alert -->
    <div id="customAlert" class="alert-box">
        <div class="alert-content">
            <div class="hearts">‚ù§Ô∏è</div>

            <h3>
                ‡¶∏‡¶∞‡¶ø ‡¶¨‡¶â‡¶™‡¶æ‡¶ñ‡¶ø üïäÔ∏èü•∫  
                <br>‡¶∞‡¶æ‡¶ó ‡¶ï‡¶∞‡ßã ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡¶≤‡ßã ‡¶®‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶® ‡¶™‡¶æ‡¶ó‡¶≤‡ßÄ ‡¶¨‡¶â‡¶ü‡¶æ ‚ù§Ô∏è‚Äçüî•
            </h3>

            <!-- Buttons -->
            <button id="increaseCount">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá ü•∞</button>
            <button id="decreaseCount" style="margin-top:10px;">‡¶†‡¶ø‡¶ï ‡¶®‡¶æ‡¶á üò•</button>
        </div>
    </div>

    <script>
        // get current count
        let count = localStorage.getItem("sorryCount");
        count = count ? parseInt(count) : 0;

        const alertBox = document.getElementById("customAlert");

        // show alert on load only if count < 5
        window.onload = () => {
            if(count < 2){
                alertBox.style.display = "flex";
                setTimeout(()=> alertBox.classList.add("show"), 10);
            }
        };

        // 1st button: count +1
        document.getElementById("increaseCount").onclick = () => {
            count++;
            localStorage.setItem("sorryCount", count);
            
            alertBox.classList.remove("show");
            setTimeout(()=> alertBox.style.display="none", 300);
        };

        // 2nd button: count -1
        document.getElementById("decreaseCount").onclick = () => {
            count--;
            if(count < 0) count = 0;
            localStorage.setItem("sorryCount", count);
            
            alertBox.classList.remove("show");
            setTimeout(()=> alertBox.style.display="none", 300);
        };
    </script>

    <style>
        body{
            margin:0;
            padding:0;
            font-family: "Poppins", sans-serif;
            background:#f7f7f7;
        }

        .alert-box{
            position:fixed;
            inset:0;
            background: rgba(0,0,0,0.45);
            display:none;
            justify-content:center;
            align-items:center;
            z-index:999;
            opacity:0;
            transition:opacity .35s ease;
        }

        .alert-box.show{
            opacity:1;
        }

        .alert-content{
            background: linear-gradient(145deg,#ffe7ec,#ffd1dc);
            padding:30px 25px;
            border-radius:18px;
            text-align:center;
            width:280px;
            box-shadow: 0 10px 25px rgba(255,0,80,0.25);
            transform: scale(0.7);
            opacity:0;
            transition: transform .35s ease, opacity .35s ease;
            position: relative;
        }

        .alert-box.show .alert-content{
            transform: scale(1);
            opacity:1;
        }

        .hearts{
            font-size:26px;
            animation: floatHeart 1.2s infinite ease-in-out alternate;
        }

        @keyframes floatHeart{
            from{transform:translateY(0);}
            to{transform:translateY(-6px);}
        }

        h3{
            margin-bottom:18px;
            line-height:26px;
            color:#ff3366;
            font-weight:600;
        }

        button{
            padding:10px 22px;
            border:none;
            border-radius:10px;
            font-size:14px;
            cursor:pointer;
            color:white;
            box-shadow:0 6px 14px rgba(0,0,0,0.25);
            transition:0.2s ease;
        }

        #increaseCount{
            background:#0b561f;
        }

        #increaseCount:hover{
            background:#084518;
            transform: translateY(-2px);
        }

        #decreaseCount{
            background:#b90000;
            margin-top:10px;
        }

        #decreaseCount:hover{
            background:#8a0000;
            transform: translateY(-2px);
        }
    </style>
  </div>

  
</body>
</html>
